{
  "name": "lambda-rie-esm-test",
  "version": "1.0.0",
  "type": "module",
  "description": "RIE test for ESM instrumentation",
  "scripts": {
    "build:esm": "./build-esm-instrumentation.sh",
    "test:esm": "npm run build:esm && npm run start:esm && sleep 3 && npm run invoke:esm && npm run stop:esm",
    "start:esm": "docker compose -f docker-compose.esm.yml up -d",
    "stop:esm": "docker compose -f docker-compose.esm.yml down",
    "invoke:esm": "curl -s -X POST http://localhost:9002/2015-03-31/functions/function/invocations -d @event.json | jq '.'",
    "logs:esm": "docker compose -f docker-compose.esm.yml logs -f lambda-rie-esm",
    "check:esm": "docker compose -f docker-compose.esm.yml logs lambda-rie-esm | grep -E '(CUSTOM REQUEST HOOK|CUSTOM RESPONSE HOOK|Handler patched|ESM|instrumentation)' | tail -15 || echo '⚠️  No trace logs found yet. Try: npm run logs:esm'",
    "clean:esm": "rm -f custom-instrumentation-compiled.cjs custom-instrumentation.ts types.ts types.js custom-esm-loader.mjs custom-esm-wrapper.mjs setup-esm-instrumentation.sh custom-instrumentation-setup.js otel-handler-custom-esm handler.mjs package.json"
  }
}
